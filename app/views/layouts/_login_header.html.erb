<div class="navbar bg-base-100">
  <div class="flex-1">
    <%= link_to 'AnimeTierList', root_path, class: "btn btn-ghost normal-case text-xl"  %>
  </div>
  <div class="flex-none">
    <%= link_to animations_path, class: "" do %>
      <i class="fa-solid fa-magnifying-glass fa-lg fa-fw"></i>
    <% end %>
    <div class="dropdown dropdown-end">
      <label tabindex="1" class="ml-4 sm:ml-6">
        <i class="fa-regular fa-bell fa-xl fa-fw"></i>
      </label>
      <ul tabindex="0" class="mt-3 p-2 shadow menu menu-compact dropdown-content bg-base-100 rounded-box w-52">
        <% if @notifications.exists? %>
          <% @notifications.each do |notification| %>
            <li>
              
              <%= link_to user_path(notification.visitor) do %>
                <%= notification.visitor.user_name %>からフォローされました。<%= " (#{time_ago_in_words(notification.created_at)}まえ)" %>
              <% end %>
            </li>
          <% end %>
        <% else %>
          <p>おしらせはありません</p>
        <% end %>
      </ul>
    </div>
    <div class="dropdown dropdown-end">
      <label tabindex="0" class="btn btn-ghost btn-circle avatar ml-3 sm:ml-4">
        <div class="w-9 h-9 bg-base-300 rounded-full">
          <%= image_tag current_user.user_image.url %>
        </div>
      </label>
      <ul tabindex="0" class="mt-3 p-2 shadow menu menu-compact dropdown-content bg-base-100 rounded-box w-52">
        <li><%= link_to "プロフィール", user_path(current_user.id) %></li>
        <li><a>Settings</a></li>
        <li><%= button_to "ログアウト", destroy_user_session_path, method: :delete %></li>
      </ul>
    </div>
  </div>
</div>
