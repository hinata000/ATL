<div class="text-right mb-4">
  <select onChange="location.href=value;" class="select select-bordered w-fit" value="<%= params[:q][:sorts] %>">
    <option class="">並べ替え</option>
    <option class="" value="<%= sort_by_sort_url(sort_url(@q, :bookmarks_count), 'bookmarks_count+desc') %>">ブックマークが多い順</option>
    <option class="" value="<%= sort_by_sort_url(sort_url(@q, :tier_average), 'tier_average+desc') %>">Tierが高い順</option>
  </select>
</div>

<%= turbo_frame_tag "animation-page-#{@animations.current_page}" do %>

  <div class="grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
        <% @animations.each do |animation| %>
          <!-- product - start -->
          <div>
            <%= link_to image_tag(animation.image, class: "w-full h-full object-cover object-center group-hover:scale-110 transition duration-200", alt: animation.title), "/animations/#{animation.id}", class: "group h-36 block bg-gray-100 rounded-t-lg overflow-hidden relative", data: { turbo_frame: "_top" } %>
            <div class="flex justify-between items-start bg-base-200 rounded-b-lg gap-2 p-4">
              <div class="flex flex-col truncate">
                <div class="flex">
                  <div class="relative">
                    <div class="text-gray-500 text-xl">★★★★★</div>
                  </div>
                </div>
                <%= link_to animation.title, "/animations/#{animation.id}", class: "secondary-content hover:base-content lg:text-lg font-semibold transition duration-100 mt-1 truncate", data: { turbo_frame: "_top" } %>
              </div>
            </div>
          </div>
          <% end %>
          <!-- product - end -->
      </div>
    </div>
  </div>

  <%= turbo_frame_tag "animation-page-#{@animations.next_page}", loading: :lazy, src: path_to_next_page(@animations) %>

<% end %>