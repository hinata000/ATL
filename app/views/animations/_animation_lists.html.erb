<div class="sm:grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-6 sm:gap-2 mx-6">
  <% animations.each do |animation| %>

    <div>
      <%= link_to image_tag(animation.image, class: "w-full h-full object-cover object-center group-hover:scale-110 transition duration-200", alt: animation.title), "/animations/#{animation.id}", class: "group h-36 block bg-gray-100 rounded-t-lg overflow-hidden relative", data: { turbo_frame: "_top" } %>
      <div class="bg-base-200 rounded-b-lg p-4 mb-4">
        <div class="flex flex-col truncate">

          <div class="flex justify-between">
            <% if animation.tier_lists.present? || animation.tier_list_entiers.present? %>
              <span class="badge text-base font-bold py-3" style="<%= animation.total_tier_color(animation.tier_lists.average(:tier_score).to_f, animation.tier_list_entiers.average(:tier_score).to_f) %>">
                <%= animation.total_tier_score_change(animation.tier_lists.average(:tier_score).to_f, animation.tier_list_entiers.average(:tier_score).to_f) %> Tier
              </span>
            <% else %>
              <div class="badge py-3">
                <span class="text-xs font-bold">
                  ãƒ¼&nbsp;
                </span>
                <span class="text-base font-bold">
                  Tier
                </span>
              </div>
            <% end %>

            <div class="flex">
              <div class="">
                <%= render 'animations/tierlist_index_button', animation: animation %>
              </div>

              <div class="">
                <%= render 'animations/bookmark_index_button', animation: animation %>
              </div>
            </div>

          </div>

          <%= link_to animation.title, "/animations/#{animation.id}", class: "secondary-content hover:base-content lg:text-lg font-semibold transition duration-100 mt-1 truncate", data: { turbo_frame: "_top" } %>
        </div>
      </div>
    </div>
  <% end %>
</div>