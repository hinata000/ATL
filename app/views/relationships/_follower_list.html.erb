<%= turbo_frame_tag dom_id(@user, :follower_count) do %>
  <p class="font-medium text-base-content text-sm text-center w-full py-3 link link-hover" onclick="my_modal_4.showModal()">
    フォロワー<br><%= @user.followers.count %>
  </p>

  <dialog id="my_modal_4" class="modal">
    <div class="modal-box">
      <form method="dialog">
        <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button>
      </form>
      <% if @user.followers.exists? %>
        <h2 class="text-xl text-primary-content font-bold text-center">フォロワー</h2>
        <% @user.followers.each do |user| %>
          <div class="flex my-5">
            <%= link_to user_path(user.id), data: { turbo_frame: "_top" } do %>
              <%= image_tag user.user_image.thumb.url, class: "rounded-full w-12 h-12 object-cover" %>
            <% end %>
            <div class="flex flex-col ml-2">
              <%= link_to user_path(user.id), data: { turbo_frame: "_top" } do %>
                <p class="text-primary-content font-bold link link-hover"><%= user.user_name %></p>
              <% end %>
              <p class="">@<%= user.user_id %></p>
              <p class="text-neutral-content"><%= user.profile %></p>
            </div>
            <div class="ml-auto">
              <%= render "relationships/relationship_list_button", user: user %>
            </div>
          </div>
        <% end %>
      <% else %>
        <p class="text-center">フォロワーされているユーザーが存在しません。</p>
      <% end %>
    </div>
  </dialog>
<% end %>