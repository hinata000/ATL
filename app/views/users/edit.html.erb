<section class="py-6">
  <div class="flex flex-col items-center justify-center px-3 py-6 mx-auto lg:py-0">
      <div class="w-full bg-base-200 rounded-lg shadow sm:max-w-md xl:p-0">
        <%= form_with model: @user, local: true do |f| %>
          <div class="p-6 space-y-4 md:space-y-6 sm:p-8">
              <h1 class="text-xl font-bold leading-tight tracking-tight text-secondary-content md:text-2xl text-center">プロフィール編集</h1>
              <form class="space-y-4 md:space-y-6" action="#">
                  <div class="field">
                    <%= f.label :user_name, "ユーザーネーム", class: "label" %>
                    <%= f.text_field :user_name, class: "input input-bordered block w-full p-2.5", autofocus: true, autocomplete: "email", required: true %>
                  </div>
                  <div class="field">
                    <%= f.label :user_id, "ユーザーID", class: "label" %>
                    <%= f.text_field :user_id, class: "input input-bordered block w-full p-2.5", autofocus: true, required: true %>
                  </div>
                  <div class="field">
                    <%= f.label :profile, "プロフィール", class: "label" %>
                    <%= f.text_area :profile, class: "textarea textarea-bordered textarea-lg w-full h-32", autofocus: true %>
                  </div>
                  <div class="field" data-controller="select-image" data-action="click->select-image#fileCheck">
                    <%= f.label :user_image, "プロフィール画像", class: "label" %>
                    <%= f.file_field :user_image, "data-select-image-target": "file", class: "file-input file-input-bordered w-full max-w-xs hidden", direct_upload: true %>
                    <% if @user.user_image.attached? %>
                      <%= image_tag @user.user_image, "data-select-image-target": "image", class: 'ablolute z-40 top-0 left-0 w-[48px] object-cover' %>
                    <% else %>
                      <%= image_tag "user_icon.png", "data-select-image-target": "image", class: "ablolute z-40 top-0 left-0 w-[48px] opacity-50" %>
                    <% end %>
                  </div>
                  <div class="field">
                    <%= f.label :header_image, "ヘッダー画像", class: "label" %>
                    <%= f.file_field :header_image, class: "file-input file-input-bordered w-full max-w-xs" %>
                    <%= f.hidden_field :header_image_cache %>
                  </div>
                  <div class="actions py-6">
                    <%= f.submit "更新", class: "w-full btn btn-primary text-primary-content px-5 py-2.5 text-center" %>
                  </div>
              </form>
          </div>
        <% end %>
      </div>
  </div>
</section>
